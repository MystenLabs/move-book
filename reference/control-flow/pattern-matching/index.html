<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-reference docs-version-current docs-doc-page docs-doc-id-control-flow/pattern-matching" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Pattern Matching | Reference | The Move Book</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://move-book.com/reference/control-flow/pattern-matching"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="algolia-site-verification" content="BCA21DA2879818D2"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-reference-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-reference-current"><meta data-rh="true" property="og:title" content="Pattern Matching | Reference | The Move Book"><link data-rh="true" rel="icon" href="/favicon.svg"><link data-rh="true" rel="canonical" href="https://move-book.com/reference/control-flow/pattern-matching"><link data-rh="true" rel="alternate" href="https://move-book.com/reference/control-flow/pattern-matching" hreflang="en"><link data-rh="true" rel="alternate" href="https://move-book.com/reference/control-flow/pattern-matching" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1E7R0BHX4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B1E7R0BHX4",{anonymize_ip:!0})</script>



<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&amp;amp;display=swap">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/styles.f79f3242.css">
<script src="/assets/js/runtime~main.f5f28b9a.js" defer="defer"></script>
<script src="/assets/js/main.9757aefb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_OH5z" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"></a><a class="navbar__item navbar__link" href="/">Move Book</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/reference">Move Reference</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_aspp"><div class="navbar__search searchBarContainer_reza" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_Kpxf" value=""><div class="loadingRing_LRD_ searchBarLoadingRing_lY7z"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/MystenLabs/move-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><i class="fab fa-github"></i></a><div class="toggle_MW0i colorModeToggle_RHuM"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><i aria-hidden="true" class="toggleIcon_oIOL lightToggleIcon_SFTY fas fa-moon"></i><i aria-hidden="true" class="toggleIcon_oIOL darkToggleIcon_ekgs fas fa-sun"></i><i aria-hidden="true" class="toggleIcon_oIOL systemToggleIcon_yi_a fas fa-moon"></i></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_wWoK"><div class="docsWrapper_nrtX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_xs6u" type="button"></button><div class="docRoot_XRUv"><aside class="theme-doc-sidebar-container docSidebarContainer_vhZZ"><div class="sidebarViewport_HXJ_"><div class="sidebar_B2tA"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_RelJ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/reference/">The Move Reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Getting Started</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/modules">1. Modules</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Basic Concepts</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/reference/primitive-types">2. Primitive Types</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/integers">2.1 Integers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/bool">2.2 Bool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/address">2.3 Address</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/vector">2.4 Vector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/references">2.5 References</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/tuples">2.6 Tuples and Unit</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/variables">3. Local Variables and Scopes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/equality">4. Equality</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/reference/abort-and-assert">5. Abort and Assert</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/abort-and-assert/clever-errors">5.1 Clever Errors</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/reference/control-flow">6. Control Flow</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/control-flow/conditionals">6.1 Conditional Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/control-flow/loops">6.2 Loops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/control-flow/labeled-control-flow">6.3 Labeled Control Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/reference/control-flow/pattern-matching">6.4 Pattern Matching</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/reference/functions">7. Functions</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/functions/macros">7.1 Macros</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/structs">8. Structs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/enums">9. Enums</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/constants">10. Constants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/generics">11. Generics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/abilities">12. Abilities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/uses">13. Uses and Aliases</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Advanced Concepts</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/method-syntax">14. Method Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/index-syntax">15. Index Syntax</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Tooling</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/packages">16. Packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/unit-testing">17. Unit Testing</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Reference</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/coding-conventions">18. Coding Conventions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Deprecated</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/friends">19. Friends</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_oT2n"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_LCKf"><div class="docItemContainer_Jixr"><article><div class="tocCollapsible_vYTS theme-doc-toc-mobile tocMobile_QhsY"><button type="button" class="clean-btn tocCollapsibleButton_nB9w">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Pattern Matching</h1></header>
<p>A <span class="inline-code">match</span> expression is a powerful control structure that allows you to compare a value against a
series of patterns and then execute code based on which pattern matches first. Patterns can be
anything from simple literals to complex, nested struct and enum definitions. As opposed to <span class="inline-code">if</span>
expressions, which change control flow based on a <span class="inline-code">bool</span>-typed test expression, a <span class="inline-code">match</span> expression
operates over a value of any type and selects one of many arms.</p>
<p>A <span class="inline-code">match</span> expression can match Move values as well as mutable or immutable references, binding
sub-patterns accordingly.</p>
<p>For example:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">run</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        x =&gt; x,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">run</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">run</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">run</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">run</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 0</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="match-syntax"><span class="inline-code">match</span> Syntax<a href="#match-syntax" class="hash-link" aria-label="Direct link to match-syntax" title="Direct link to match-syntax">​</a></h2>
<p>A <span class="inline-code">match</span> takes an expression and a non-empty series of <em>match arms</em> delimited by commas.</p>
<p>Each match arm consists of a pattern (<span class="inline-code">p</span>), an optional guard (<span class="inline-code">if (g)</span> where <span class="inline-code">g</span> is an expression
of type <span class="inline-code">bool</span>), an arrow (<span class="inline-code">=&gt;</span>), and an arm expression (<span class="inline-code">e</span>) to execute when the pattern matches.
For example,</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (expression) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    pattern1 </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> (guard_expression) =&gt; expression1,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    pattern2 =&gt; expression2,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    pattern3 =&gt; { expression3, expression4, ... },</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Match arms are checked in order from top to bottom, and the first pattern that matches (with a guard
expression, if present, that evaluates to <span class="inline-code">true</span>) will be executed.</p>
<p>Note that the series of match arms within a <span class="inline-code">match</span> must be exhaustive, meaning that every possible
value of the type being matched must be covered by one of the patterns in the <span class="inline-code">match</span>. If the series
of match arms is not exhaustive, the compiler will raise an error.</p>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="pattern-syntax">Pattern Syntax<a href="#pattern-syntax" class="hash-link" aria-label="Direct link to Pattern Syntax" title="Direct link to Pattern Syntax">​</a></h2>
<p>A pattern is matched by a value if the value is equal to the pattern, and where variables and
wildcards (e.g., <span class="inline-code">x</span>, <span class="inline-code">y</span>, <span class="inline-code">_</span>, or <span class="inline-code">..</span>) are &quot;equal&quot; to anything.</p>
<p>Patterns are used to match values. Patterns can be</p>
<table><thead><tr><th>Pattern</th><th>Description</th></tr></thead><tbody><tr><td>Literal</td><td>A literal value, such as <span class="inline-code">1</span>, <span class="inline-code">true</span>, <span class="inline-code">@0x1</span></td></tr><tr><td>Constant</td><td>A constant value, e.g., <span class="inline-code">MyConstant</span></td></tr><tr><td>Variable</td><td>A variable, e.g., <span class="inline-code">x</span>, <span class="inline-code">y</span>, <span class="inline-code">z</span></td></tr><tr><td>Wildcard</td><td>A wildcard, e.g., <span class="inline-code">_</span></td></tr><tr><td>Constructor</td><td>A constructor pattern, e.g., <span class="inline-code">MyStruct { x, y }</span>, <span class="inline-code">MyEnum::Variant(x)</span></td></tr><tr><td>At-pattern</td><td>An at-pattern, e.g., <span class="inline-code">x @ MyEnum::Variant(..)</span></td></tr><tr><td>Or-pattern</td><td>An or-pattern, e.g., <span class="inline-code">MyEnum::Variant(..) | MyEnum::OtherVariant(..)</span></td></tr><tr><td>Multi-arity wildcard</td><td>A multi-arity wildcard, e.g., <span class="inline-code">MyEnum::Variant(..)</span></td></tr><tr><td>Mutable-binding</td><td>A mutable-binding pattern, e.g., <span class="inline-code">mut x</span></td></tr></tbody></table>
<p>Patterns in Move have the following grammar:</p>
<div class="language-bnf codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-bnf codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">pattern = &lt;literal&gt;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        | &lt;constant&gt;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        | &lt;variable&gt;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        | _</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        | C { &lt;variable&gt; : inner-pattern [&quot;,&quot; &lt;variable&gt; : inner-pattern]* } // where C is a struct or enum variant</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        | C ( inner-pattern [&quot;,&quot; inner-pattern]* ... )                       // where C is a struct or enum variant</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        | C                                                                  // where C is an enum variant</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        | &lt;variable&gt; @ top-level-pattern</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        | pattern | pattern</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        | mut &lt;variable&gt;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">inner-pattern = pattern</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">              | ..     // multi-arity wildcard</span><br></span></code></pre></div></div>
<p>Some examples of patterns are:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:#A0A1A7">// literal pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// constant pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token struct-types entity" style="color:#C18401">MyConstant</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// variable pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// wildcard pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">_</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// constructor pattern that matches `MyEnum::Variant` with the fields `1` and `true`</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// constructor pattern that matches `MyEnum::Variant` with the fields `1` and binds the second field&#x27;s value to `x`</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, x)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// multi-arity wildcard pattern that matches multiple fields within the `MyEnum::Variant` variant</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(..)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// constructor pattern that matches the `x` field of `MyStruct` and binds the `y` field to `other_variable`</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain"> { x, </span><span class="token property-name function-argument struct-property-name">y</span><span class="token plain">: </span><span class="token property-value">other_variable</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// at-pattern that matches `MyEnum::Variant` and binds the entire value to `x`</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x @ </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(..)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// or-pattern that matches either `MyEnum::Variant` or `MyEnum::OtherVariant`</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(..) | </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(..)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// same as the above or-pattern, but with explicit wildcards</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(_, _) | </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(_, _)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// or-pattern that matches either `MyEnum::Variant` or `MyEnum::OtherVariant` and binds the u64 field to `x`</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(x, _) | </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(_, x)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// constructor pattern that matches `OtherEnum::V` and if the inner `MyEnum` is `MyEnum::Variant`</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token struct-types entity" style="color:#C18401">OtherEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">V</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(..))</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="patterns-and-variables">Patterns and Variables<a href="#patterns-and-variables" class="hash-link" aria-label="Direct link to Patterns and Variables" title="Direct link to Patterns and Variables">​</a></h3>
<p>Patterns that contain variables bind them to the match subject or subject subcomponent being
matched. These variables can then be used either in any match guard expressions, or on the
right-hand side of the match arm. For example:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">Wrapper</span><span class="token struct-or-enum-definition">(</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">add_under_wrapper_unless_equal</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">wrapper</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">Wrapper</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (wrapper) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Wrapper</span><span class="token plain">(y) </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> (y == x) =&gt; </span><span class="token struct-types entity" style="color:#C18401">Wrapper</span><span class="token plain">(y),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Wrapper</span><span class="token plain">(y) =&gt; y + x,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">add_under_wrapper_unless_equal</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">Wrapper</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">), </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns Wrapper(3)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">add_under_wrapper_unless_equal</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">Wrapper</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">), </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns Wrapper(5)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">add_under_wrapper_unless_equal</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">Wrapper</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">), </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns Wrapper(3)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="combining-patterns">Combining Patterns<a href="#combining-patterns" class="hash-link" aria-label="Direct link to Combining Patterns" title="Direct link to Combining Patterns">​</a></h3>
<p>Patterns can be nested, but patterns can also be combined using the or operator (<span class="inline-code">|</span>). For example,
<span class="inline-code">p1 | p2</span> succeeds if either pattern <span class="inline-code">p1</span> or <span class="inline-code">p2</span> matches the subject. This pattern can occur
anywhere -- either as a top-level pattern or a sub-pattern within another pattern.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition enum-keyword keyword" style="color:hsl(301, 63%, 40%)">enum</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">MyEnum</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-has keyword" style="color:hsl(301, 63%, 40%)">has</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">drop</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, </span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain">),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(</span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain">, </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">) | </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">8</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">) | </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(_, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">6</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">7</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">8</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">7</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">80</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="restrictions-on-some-patterns">Restrictions on Some Patterns<a href="#restrictions-on-some-patterns" class="hash-link" aria-label="Direct link to Restrictions on Some Patterns" title="Direct link to Restrictions on Some Patterns">​</a></h3>
<p>The <span class="inline-code">mut</span> and <span class="inline-code">..</span> patterns also have specific conditions placed on when, where, and how they can be
used, as detailed in <a href="#limitations-on-specific-patterns">Limitations on Specific Patterns</a>. At a
high level, the <span class="inline-code">mut</span> modifier can only be used on variable patterns, and the <span class="inline-code">..</span> pattern can only
be used once within a constructor pattern -- and not as a top-level pattern.</p>
<p>The following is an <em>invalid</em> usage of the <span class="inline-code">..</span> pattern because it is used as a top-level pattern:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    .. =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">// ERROR: `..` pattern can only be used within a constructor pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(.., ..) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">// ERROR:    ^^  `..` pattern can only be used once within a constructor pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="pattern-typing">Pattern Typing<a href="#pattern-typing" class="hash-link" aria-label="Direct link to Pattern Typing" title="Direct link to Pattern Typing">​</a></h3>
<p>Patterns are not expressions, but they are nevertheless typed. This means that the type of a pattern
must match the type of the value it matches. For example, the pattern <span class="inline-code">1</span> has an integer type, the
pattern <span class="inline-code">MyEnum::Variant(1, true)</span> has type <span class="inline-code">MyEnum</span>, the pattern <span class="inline-code">MyStruct { x, y }</span> has type
<span class="inline-code">MyStruct</span>, and <span class="inline-code">OtherStruct&lt;bool&gt; { x: true, y: 1}</span> has type <span class="inline-code">OtherStruct&lt;bool&gt;</span>. If you try to
match on an expression that differs from the type of the pattern in the match, this will result in a
type error. For example:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">// The `true` literal pattern is of type `bool` so this is a type error.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain"> =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">// TYPE ERROR: expected type u64, found bool</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    _ =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Similarly, the following would also result in a type error because <span class="inline-code">MyEnum</span> and <span class="inline-code">MyStruct</span> are
different types:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (</span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">y</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> }) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(..) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">// TYPE ERROR: expected type MyEnum, found MyStruct</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="matching">Matching<a href="#matching" class="hash-link" aria-label="Direct link to Matching" title="Direct link to Matching">​</a></h2>
<p>Prior to delving into the specifics of pattern matching and what it means for a value to &quot;match&quot; a
pattern, let&#x27;s examine a few examples to provide an intuition for the concept.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">test_lit</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_lit</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_lit</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_lit</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 4</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_lit</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 4</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">test_var</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        y =&gt; y,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_var</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_var</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_var</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">...</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token const const-keyword keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token const"> </span><span class="token const const-name constant" style="color:hsl(35, 99%, 36%)">MyConstant</span><span class="token const">: </span><span class="token const const-type support" style="color:#0184BC">u64</span><span class="token const"> = </span><span class="token const const-name constant" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">test_constant</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyConstant</span><span class="token plain"> =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_constant</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">MyConstant</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_constant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_constant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">20</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain"> =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">6</span><span class="token plain"> =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">70</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">test_or_at_pattern</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        x @ (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">) =&gt; x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        y @ (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">6</span><span class="token plain">) =&gt; y + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        z =&gt; z + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 7</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">test_or_pattern</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">70</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 73</span><br></span></code></pre></div></div>
<p>The most important thing to note from these examples is that a pattern matches a value if the value
is equal to the pattern, and wildcard/variable patterns match anything. This is true for literals,
variables, and constants. For example, in the <span class="inline-code">test_lit</span> function, the value <span class="inline-code">1</span> matches the pattern
<span class="inline-code">1</span>, the value <span class="inline-code">2</span> matches the pattern <span class="inline-code">2</span>, and the value <span class="inline-code">3</span> matches the wildcard <span class="inline-code">_</span>. Similarly,
in the <span class="inline-code">test_var</span> function, both the value <span class="inline-code">1</span> and the value <span class="inline-code">2</span> matches the pattern <span class="inline-code">y</span>.</p>
<p>A variable <span class="inline-code">x</span> matches (or &quot;equals&quot;) any value, and a wildcard <span class="inline-code">_</span> matches any value (but only one
value). Or-patterns are like a logical OR, where a value matches the pattern if it matches any of
patterns in the or-pattern so <span class="inline-code">p1 | p2 | p3</span> should be read &quot;matches p1, or p2, or p3&quot;.</p>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="matching-constructors">Matching Constructors<a href="#matching-constructors" class="hash-link" aria-label="Direct link to Matching Constructors" title="Direct link to Matching Constructors">​</a></h3>
<p>Pattern matching includes the concept of constructor patterns. These patterns allow you to inspect
and access deep within both structs and enums, and are one of the most powerful parts of pattern
matching. Constructor patterns, coupled with variable bindings, allow you to match on values by
their structure, and pull out the parts of the value you care about for usage on the right-hand side
of the match arm.</p>
<p>Take the following:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">f</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(_, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(..) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(..) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 4</span><br></span></code></pre></div></div>
<p>This is saying that &quot;if <span class="inline-code">x</span> is <span class="inline-code">MyEnum::Variant</span> with the fields <span class="inline-code">1</span> and <span class="inline-code">true</span>, then return <span class="inline-code">1</span>. If
it is <span class="inline-code">MyEnum::OtherVariant</span> with any value for the first field, and <span class="inline-code">3</span> for the second, then return
<span class="inline-code">2</span>. If it is <span class="inline-code">MyEnum::Variant</span> with any fields, then return <span class="inline-code">3</span>. Finally, if it is
<span class="inline-code">MyEnum::OtherVariant</span> with any fields, then return <span class="inline-code">4</span>&quot;.</p>
<p>You can also nest patterns. So, if you wanted to match either 1, 2, or 10, instead of just matching
1 in the previous <span class="inline-code">MyEnum::Variant</span>, you could do so with an or-pattern:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">f</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> | </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(_, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(..) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(..) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(</span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">)); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="ability-constraints">Ability Constraints<a href="#ability-constraints" class="hash-link" aria-label="Direct link to Ability Constraints" title="Direct link to Ability Constraints">​</a></h3>
<p>Additionally, match bindings are subject to the same ability restrictions as other aspects of Move.
In particular, the compiler will signal an error if you try to match a value (not-reference) without
<span class="inline-code">drop</span> using a wildcard, as the wildcard expects to drop the value. Similarly, if you bind a
non-<span class="inline-code">drop</span> value using a binder, it must be used in the right-hand side of the match arm. In
addition, if you fully destruct that value, you have unpacked it, matching the semantics of
<a href="/reference/structs#destroying-structs-via-pattern-matching">non-<span class="inline-code">drop</span> struct unpacking</a>. See the
<a href="/reference/abilities#drop">abilities section on <span class="inline-code">drop</span></a> for more details about the <span class="inline-code">drop</span> capability.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">NonDrop</span><span class="token struct-or-enum-definition">(</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">drop_nondrop</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">NonDrop</span><span class="token plain">) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">NonDrop</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// ERROR: cannot wildcard match on a non-droppable value</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">destructure_nondrop</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">NonDrop</span><span class="token plain">) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">NonDrop</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">NonDrop</span><span class="token plain">(_) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// OK!</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">use_nondrop</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">NonDrop</span><span class="token plain">): </span><span class="token struct-types entity" style="color:#C18401">NonDrop</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">NonDrop</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">) =&gt; </span><span class="token struct-types entity" style="color:#C18401">NonDrop</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">8</span><span class="token plain">),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        x =&gt; x</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="exhaustiveness">Exhaustiveness<a href="#exhaustiveness" class="hash-link" aria-label="Direct link to Exhaustiveness" title="Direct link to Exhaustiveness">​</a></h2>
<p>The <span class="inline-code">match</span> expression in Move must be <em>exhaustive</em>: every possible value of the type being matched
must be covered by one of the patterns in one of the match&#x27;s arms. If the series of match arms is
not exhaustive, the compiler will raise an error. Note that any arm with a guard expression does not
contribute to match exhaustion, as it might fail to match at runtime.</p>
<p>As an example, a match on a <span class="inline-code">u8</span> is exhaustive only if it matches on <em>every</em> number from 0 to 255
inclusive, unless there is a wildcard or variable pattern present. Similarly, a match on a <span class="inline-code">bool</span>
would need to match on both <span class="inline-code">true</span> and <span class="inline-code">false</span>, unless there is a wildcard or variable pattern
present.</p>
<p>For structs, because there is only one type of constructor for the type, only one constructor needs
to be matched, but the fields within the struct need to be matched exhaustively as well. Conversely,
enums may define multiple variants, and each variant must be matched (including any sub-fields) for
the match to be considered exhaustive.</p>
<p>Because underscores and variables are wildcards that match anything, they count as matching all
values of the type they are matching on in that position. Additionally, the multi-arity wildcard
pattern <span class="inline-code">..</span> can be used to match on multiple values within a struct or enum variant.</p>
<p>To see some examples of <em>non-exhaustive</em> matches, consider the following:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition enum-keyword keyword" style="color:hsl(301, 63%, 40%)">enum</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">MyEnum</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, </span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain">),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(</span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain">, </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">Pair</span><span class="token struct-or-enum-definition">&lt;</span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">T</span><span class="token struct-or-enum-definition">&gt;(</span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain">, </span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">f</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(_, _) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(_, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// ERROR: not exhaustive as the value `MyEnum::OtherVariant(_, 4)` is not matched.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">match_pair_bool</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">Pair</span><span class="token plain">&lt;</span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain">&gt;): </span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Pair</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Pair</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Pair</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// ERROR: not exhaustive as the value `Pair(false, true)` is not matched.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>These examples can then be made exhaustive by adding a wildcard pattern to the end of the match arm,
or by fully matching on the remaining values:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">f</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Variant</span><span class="token plain">(_, _) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(_, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// Now exhaustive since this will match all values of MyEnum::OtherVariant</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyEnum</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">OtherVariant</span><span class="token plain">(..) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">match_pair_bool</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">Pair</span><span class="token plain">&lt;</span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain">&gt;): </span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Pair</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Pair</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Pair</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// Now exhaustive since this will match all values of Pair&lt;bool&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Pair</span><span class="token plain">(</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">, </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="guards">Guards<a href="#guards" class="hash-link" aria-label="Direct link to Guards" title="Direct link to Guards">​</a></h2>
<p>As previously mentioned, you can add a guard to a match arm by adding an <span class="inline-code">if</span> clause after the
pattern. This guard will run <em>after</em> the pattern has been matched but <em>before</em> the expression on the
right hand side of the arrow is evaluated. If the guard expression evaluates to <span class="inline-code">true</span> then the
expression on the right hand side of the arrow will be evaluated, if it evaluates to <span class="inline-code">false</span> then it
will be considered a failed match and the next match arm in the <span class="inline-code">match</span> expression will be checked.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">match_with_guard</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> (</span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">match_with_guard</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">match_with_guard</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><br></span></code></pre></div></div>
<p>Guard expressions can reference variables bound in the pattern during evaluation. However, note that
<em>variables are only available as immutable reference in guards</em> regardless of the pattern being
matched -- even if there are mutability specifiers on the variable or if the pattern is being
matched by value.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">incr</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    *x = *x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">match_with_guard_incr</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        x </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> ({ </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">incr</span><span class="token plain">(&amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x); x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> }) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// ERROR:    ^^^ invalid borrow of immutable value</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">match_with_guard_incr2</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        x </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> ({ </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">incr</span><span class="token plain">(&amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x); x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> }) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// ERROR:    ^^^ invalid borrow of immutable value</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Additionally, it is important to note any match arms that have guard expressions will not be
considered either for exhaustivity purposes because the compiler has no way of evaluating the guard
expression statically.</p>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="limitations-on-specific-patterns">Limitations on Specific Patterns<a href="#limitations-on-specific-patterns" class="hash-link" aria-label="Direct link to Limitations on Specific Patterns" title="Direct link to Limitations on Specific Patterns">​</a></h2>
<p>There are some restrictions on when the <span class="inline-code">..</span> and <span class="inline-code">mut</span> pattern modifiers can be used in a pattern.</p>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="mutability-usage">Mutability Usage<a href="#mutability-usage" class="hash-link" aria-label="Direct link to Mutability Usage" title="Direct link to Mutability Usage">​</a></h3>
<p>A <span class="inline-code">mut</span> modifier can be placed on a variable pattern to specify that the <em>variable</em> is to be mutated
in the right-hand expression of the match arm. Note that since the <span class="inline-code">mut</span> modifier only signifies
that the variable is to be mutated, not the underlying data, this can be used on all types of match
(by value, immutable reference, and mutable reference).</p>
<p>Note that the <span class="inline-code">mut</span> modifier can only be applied to variables, and not other types of patterns.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">MyStruct</span><span class="token struct-or-enum-definition">(</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">top_level_mut</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(y) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// ERROR: cannot use mut on a non-variable pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">mut_on_immut</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: &amp;</span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> y) =&gt; {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            y = &amp;(*y + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            *y</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">mut_on_value</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> y) =&gt;  {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            *y = *y + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            *y</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        },</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">mut_on_mut</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> y) =&gt;  {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            *y = *y + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            *y</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        },</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x = </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">mut_on_mut</span><span class="token plain">(&amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x); </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x.</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">mut_on_immut</span><span class="token plain">(&amp;x); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x.</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// returns 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">mut_on_value</span><span class="token plain">(x); </span><span class="token comment" style="color:#A0A1A7">// returns 3</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="-usage"><span class="inline-code">..</span> Usage<a href="#-usage" class="hash-link" aria-label="Direct link to -usage" title="Direct link to -usage">​</a></h3>
<p>The <span class="inline-code">..</span> pattern can only be used within a constructor pattern as a wildcard that matches any number
of fields -- the compiler expands the <span class="inline-code">..</span> to inserting <span class="inline-code">_</span> in any missing fields in the
constructor pattern (if any). So <span class="inline-code">MyStruct(_, _, _)</span> is the same as <span class="inline-code">MyStruct(..)</span>,
<span class="inline-code">MyStruct(1, _, _)</span> is the same as <span class="inline-code">MyStruct(1, ..)</span>. Because of this, there are some restrictions
on how, and where the <span class="inline-code">..</span> pattern can be used:</p>
<ul>
<li>It can only be used <strong>once</strong> within the constructor pattern;</li>
<li>In positional arguments it can be used at the beginning, middle, or end of the patterns within the
constructor;</li>
<li>In named arguments it can only be used at the end of the patterns within the constructor;</li>
</ul>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">MyStruct</span><span class="token struct-or-enum-definition">(</span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">u64</span><span class="token struct-or-enum-definition">, </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">u64</span><span class="token struct-or-enum-definition">, </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">u64</span><span class="token struct-or-enum-definition">, </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">u64</span><span class="token struct-or-enum-definition">) </span><span class="token struct-or-enum-definition struct-has keyword" style="color:hsl(301, 63%, 40%)">has</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">drop</span><span class="token struct-or-enum-definition">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">MyStruct2</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property-name function-argument struct-property-name">y</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property-name function-argument struct-property-name">z</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property-name function-argument struct-property-name">w</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">wild_match</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(.., </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// OK! The `..` pattern can be used at the beginning of the constructor pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, ..) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// OK! The `..` pattern can be used at the end of the constructor pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, .., </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// OK! The `..` pattern can be used at the middle of the constructor pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, .., </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">MyStruct</span><span class="token plain">(..) =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">wild_match2</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token property-value">MyStruct2</span><span class="token plain">) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (x) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        MyStruct2 { </span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, .. } =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        MyStruct2 { </span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">w</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> .. } =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        MyStruct2 { .. } =&gt; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/reference/control-flow/labeled-control-flow"><div class="pagination-nav__label"><i class="fa fa-angle-left"></i><span class="pagination-nav__label">6.3 Labeled Control Flow</span> </div></a><a class="pagination-nav__link pagination-nav__link--next" href="/reference/functions"><div class="pagination-nav__label"><span class="pagination-nav__label">Functions | Reference</span> <i class="fa fa-angle-right"></i></div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_VdoB thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#match-syntax" class="table-of-contents__link toc-highlight"><code>match</code> Syntax</a></li><li><a href="#pattern-syntax" class="table-of-contents__link toc-highlight">Pattern Syntax</a><ul><li><a href="#patterns-and-variables" class="table-of-contents__link toc-highlight">Patterns and Variables</a></li><li><a href="#combining-patterns" class="table-of-contents__link toc-highlight">Combining Patterns</a></li><li><a href="#restrictions-on-some-patterns" class="table-of-contents__link toc-highlight">Restrictions on Some Patterns</a></li><li><a href="#pattern-typing" class="table-of-contents__link toc-highlight">Pattern Typing</a></li></ul></li><li><a href="#matching" class="table-of-contents__link toc-highlight">Matching</a><ul><li><a href="#matching-constructors" class="table-of-contents__link toc-highlight">Matching Constructors</a></li><li><a href="#ability-constraints" class="table-of-contents__link toc-highlight">Ability Constraints</a></li></ul></li><li><a href="#exhaustiveness" class="table-of-contents__link toc-highlight">Exhaustiveness</a></li><li><a href="#guards" class="table-of-contents__link toc-highlight">Guards</a></li><li><a href="#limitations-on-specific-patterns" class="table-of-contents__link toc-highlight">Limitations on Specific Patterns</a><ul><li><a href="#mutability-usage" class="table-of-contents__link toc-highlight">Mutability Usage</a></li><li><a href="#-usage" class="table-of-contents__link toc-highlight"><code>..</code> Usage</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>