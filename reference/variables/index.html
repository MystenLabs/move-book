<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-reference docs-version-current docs-doc-page docs-doc-id-variables" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Local Variables and Scope | Reference | The Move Book</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://move-book.com/reference/variables"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="algolia-site-verification" content="BCA21DA2879818D2"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-reference-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-reference-current"><meta data-rh="true" property="og:title" content="Local Variables and Scope | Reference | The Move Book"><link data-rh="true" rel="icon" href="/favicon.svg"><link data-rh="true" rel="canonical" href="https://move-book.com/reference/variables"><link data-rh="true" rel="alternate" href="https://move-book.com/reference/variables" hreflang="en"><link data-rh="true" rel="alternate" href="https://move-book.com/reference/variables" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1E7R0BHX4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B1E7R0BHX4",{anonymize_ip:!0})</script>



<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&amp;amp;display=swap">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/styles.f79f3242.css">
<script src="/assets/js/runtime~main.f5f28b9a.js" defer="defer"></script>
<script src="/assets/js/main.9757aefb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_OH5z" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"></a><a class="navbar__item navbar__link" href="/">Move Book</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/reference">Move Reference</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_aspp"><div class="navbar__search searchBarContainer_reza" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_Kpxf" value=""><div class="loadingRing_LRD_ searchBarLoadingRing_lY7z"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/MystenLabs/move-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><i class="fab fa-github"></i></a><div class="toggle_MW0i colorModeToggle_RHuM"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><i aria-hidden="true" class="toggleIcon_oIOL lightToggleIcon_SFTY fas fa-moon"></i><i aria-hidden="true" class="toggleIcon_oIOL darkToggleIcon_ekgs fas fa-sun"></i><i aria-hidden="true" class="toggleIcon_oIOL systemToggleIcon_yi_a fas fa-moon"></i></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_wWoK"><div class="docsWrapper_nrtX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_xs6u" type="button"></button><div class="docRoot_XRUv"><aside class="theme-doc-sidebar-container docSidebarContainer_vhZZ"><div class="sidebarViewport_HXJ_"><div class="sidebar_B2tA"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_RelJ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/reference/">The Move Reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Getting Started</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/modules">1. Modules</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Basic Concepts</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/reference/primitive-types">2. Primitive Types</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/integers">2.1 Integers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/bool">2.2 Bool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/address">2.3 Address</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/vector">2.4 Vector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/references">2.5 References</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/primitive-types/tuples">2.6 Tuples and Unit</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/reference/variables">3. Local Variables and Scopes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/equality">4. Equality</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/reference/abort-and-assert">5. Abort and Assert</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/abort-and-assert/clever-errors">5.1 Clever Errors</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/reference/control-flow">6. Control Flow</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/control-flow/conditionals">6.1 Conditional Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/control-flow/loops">6.2 Loops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/control-flow/labeled-control-flow">6.3 Labeled Control Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/control-flow/pattern-matching">6.4 Pattern Matching</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/reference/functions">7. Functions</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/functions/macros">7.1 Macros</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/structs">8. Structs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/enums">9. Enums</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/constants">10. Constants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/generics">11. Generics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/abilities">12. Abilities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/uses">13. Uses and Aliases</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Advanced Concepts</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/method-syntax">14. Method Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/index-syntax">15. Index Syntax</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Tooling</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/packages">16. Packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/unit-testing">17. Unit Testing</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Reference</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/coding-conventions">18. Coding Conventions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Deprecated</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/friends">19. Friends</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_oT2n"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_LCKf"><div class="docItemContainer_Jixr"><article><div class="tocCollapsible_vYTS theme-doc-toc-mobile tocMobile_QhsY"><button type="button" class="clean-btn tocCollapsibleButton_nB9w">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Local Variables and Scope</h1></header>
<p>Local variables in Move are lexically (statically) scoped. New variables are introduced with the
keyword <span class="inline-code">let</span>, which will shadow any previous local with the same name. Locals marked as <span class="inline-code">mut</span> are
mutable and can be updated both directly and via a mutable reference.</p>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="declaring-local-variables">Declaring Local Variables<a href="#declaring-local-variables" class="hash-link" aria-label="Direct link to Declaring Local Variables" title="Direct link to Declaring Local Variables">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="let-bindings"><span class="inline-code">let</span> bindings<a href="#let-bindings" class="hash-link" aria-label="Direct link to let-bindings" title="Direct link to let-bindings">​</a></h3>
<p>Move programs use <span class="inline-code">let</span> to bind variable names to values:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> y = x + x:</span><br></span></code></pre></div></div>
<p><span class="inline-code">let</span> can also be used without binding a value to the local.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x;</span><br></span></code></pre></div></div>
<p>The local can then be assigned a value later.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> (cond) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">} </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>This can be very helpful when trying to extract a value from a loop when a default value cannot be
provided.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> cond = </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> i = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">loop</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (res, cond) = </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">foo</span><span class="token plain">(i);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> (!cond) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        x = res;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">break</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    i = i + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>To modify a local variable <em>after</em> it is assigned, or to borrow it mutably <span class="inline-code">&amp;mut</span>, it must be
declared as <span class="inline-code">mut</span>.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> (cond) x = x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">foo</span><span class="token plain">(&amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x);</span><br></span></code></pre></div></div>
<p>For more details see the section on <a href="#assignments">assignments</a> below.</p>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="variables-must-be-assigned-before-use">Variables must be assigned before use<a href="#variables-must-be-assigned-before-use" class="hash-link" aria-label="Direct link to Variables must be assigned before use" title="Direct link to Variables must be assigned before use">​</a></h3>
<p>Move&#x27;s type system prevents a local variable from being used before it has been assigned.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x;</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain">x + x </span><span class="token comment" style="color:#A0A1A7">// ERROR! x is used before being assigned</span><br></span></code></pre></div></div>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> (cond) x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain">x + x </span><span class="token comment" style="color:#A0A1A7">// ERROR! x does not have a value in all cases</span><br></span></code></pre></div></div>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">while</span><span class="token plain"> (cond) x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain">x + x </span><span class="token comment" style="color:#A0A1A7">// ERROR! x does not have a value in all cases</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="valid-variable-names">Valid variable names<a href="#valid-variable-names" class="hash-link" aria-label="Direct link to Valid variable names" title="Direct link to Valid variable names">​</a></h3>
<p>Variable names can contain underscores <span class="inline-code">_</span>, letters <span class="inline-code">a</span> to <span class="inline-code">z</span>, letters <span class="inline-code">A</span> to <span class="inline-code">Z</span>, and digits <span class="inline-code">0</span>
to <span class="inline-code">9</span>. Variable names must start with either an underscore <span class="inline-code">_</span> or a letter <span class="inline-code">a</span> through <span class="inline-code">z</span>. They
<em>cannot</em> start with uppercase letters.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:#A0A1A7">// all valid</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = e;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> _x = e;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> _A = e;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x0 = e;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> xA = e;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> foobar_123 = e;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// all invalid</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain"> = e; </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Foo</span><span class="token plain"> = e; </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="type-annotations">Type annotations<a href="#type-annotations" class="hash-link" aria-label="Direct link to Type annotations" title="Direct link to Type annotations">​</a></h3>
<p>The type of a local variable can almost always be inferred by Move&#x27;s type system. However, Move
allows explicit type annotations that can be useful for readability, clarity, or debuggability. The
syntax for adding a type annotation is:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token let-statement">x</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain"> = e; </span><span class="token comment" style="color:#A0A1A7">// &quot;Variable x of type T is initialized to expression e&quot;</span><br></span></code></pre></div></div>
<p>Some examples of explicit type annotations:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token module-header module-keyword keyword" style="color:hsl(301, 63%, 40%)">module</span><span class="token module-header"> </span><span class="token module-header package-name constant" style="color:hsl(35, 99%, 36%)">0</span><span class="token module-header double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token module-header module-name entity" style="color:#C18401">example</span><span class="token module-header">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">S</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"> </span><span class="token property-name function-argument struct-property-name">f</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">g</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">annotated</span><span class="token plain">() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token let-statement">u</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain"> = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token let-statement">b</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">vector</span><span class="token plain">&lt;</span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain">&gt; = </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token let-statement">a</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">address</span><span class="token plain"> = </span><span class="token literals constant" style="color:hsl(35, 99%, 36%)">@0x0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (x, y): (&amp;</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">) = (&amp;</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">S</span><span class="token plain"> { f, </span><span class="token property-name function-argument struct-property-name">g</span><span class="token plain">: </span><span class="token property-value">f2</span><span class="token plain"> }: </span><span class="token struct-types entity" style="color:#C18401">S</span><span class="token plain"> = </span><span class="token struct-types entity" style="color:#C18401">S</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">g</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Note that the type annotations must always be to the right of the pattern:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:#A0A1A7">// ERROR! should be let (x, y): (&amp;u64, &amp;mut u64) = ...</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (</span><span class="token property-name function-argument struct-property-name">x</span><span class="token plain">: &amp;</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">y</span><span class="token plain">: &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">) = (&amp;</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="when-annotations-are-necessary">When annotations are necessary<a href="#when-annotations-are-necessary" class="hash-link" aria-label="Direct link to When annotations are necessary" title="Direct link to When annotations are necessary">​</a></h3>
<p>In some cases, a local type annotation is required if the type system cannot infer the type. This
commonly occurs when the type argument for a generic type cannot be inferred. For example:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> _v1 = </span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">[]; </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//        ^^^^^^^^ Could not infer this type. Try adding an annotation</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token property-name function-argument struct-property-name">v2</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">vector</span><span class="token plain">&lt;</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">&gt; = </span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">[]; </span><span class="token comment" style="color:#A0A1A7">// no error</span><br></span></code></pre></div></div>
<p>In a rarer case, the type system might not be able to infer a type for divergent code (where all the
following code is unreachable). Both <a href="/reference/functions#return-expression"><span class="inline-code">return</span></a> and
<a href="/reference/abort-and-assert"><span class="inline-code">abort</span></a> are expressions and can have any type. A
<a href="/reference/control-flow/loops"><span class="inline-code">loop</span></a> has type <span class="inline-code">()</span> if it has a <span class="inline-code">break</span> (or <span class="inline-code">T</span> if has a <span class="inline-code">break e</span> where
<span class="inline-code">e: T</span>), but if there is no break out of the <span class="inline-code">loop</span>, it could have any type. If these types cannot
be inferred, a type annotation is required. For example, this code:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token let-statement">a</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain"> = </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> ();</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token let-statement">b</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain"> = </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">abort</span><span class="token plain"> </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token let-statement">c</span><span class="token plain">: </span><span class="token property-value">signer</span><span class="token plain"> = </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">loop</span><span class="token plain"> ();</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> (); </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//  ^ Could not infer this type. Try adding an annotation</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> y = </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">abort</span><span class="token plain"> </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//  ^ Could not infer this type. Try adding an annotation</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> z = </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">loop</span><span class="token plain"> (); </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//  ^ Could not infer this type. Try adding an annotation</span><br></span></code></pre></div></div>
<p>Adding type annotations to this code will expose other errors about dead code or unused local
variables, but the example is still helpful for understanding this problem.</p>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="multiple-declarations-with-tuples">Multiple declarations with tuples<a href="#multiple-declarations-with-tuples" class="hash-link" aria-label="Direct link to Multiple declarations with tuples" title="Direct link to Multiple declarations with tuples">​</a></h3>
<p><span class="inline-code">let</span> can introduce more than one local at a time using tuples. The locals declared inside the
parenthesis are initialized to the corresponding values from the tuple.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> () = ();</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (x0, x1) = (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (y0, y1, y2) = (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (z0, z1, z2, z3) = (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">);</span><br></span></code></pre></div></div>
<p>The type of the expression must match the arity of the tuple pattern exactly.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (x, y) = (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (x, y, z, q) = (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">); </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><br></span></code></pre></div></div>
<p>You cannot declare more than one local with the same name in a single <span class="inline-code">let</span>.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (x, x) = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><br></span></code></pre></div></div>
<p>The mutability of the local variables declared can be mixed.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x, y) = (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="multiple-declarations-with-structs">Multiple declarations with structs<a href="#multiple-declarations-with-structs" class="hash-link" aria-label="Direct link to Multiple declarations with structs" title="Direct link to Multiple declarations with structs">​</a></h3>
<p><span class="inline-code">let</span> can also introduce more than one local variables at a time when destructuring (or matching
against) a struct. In this form, the <span class="inline-code">let</span> creates a set of local variables that are initialized to
the values of the fields from a struct. The syntax looks like this:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">T</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"> </span><span class="token property-name function-argument struct-property-name">f1</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">f2</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> }</span><br></span></code></pre></div></div>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f1</span><span class="token plain">: </span><span class="token property-value">local1</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">f2</span><span class="token plain">: </span><span class="token property-value">local2</span><span class="token plain"> } = </span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f1</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">f2</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// local1: u64</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// local2: u64</span><br></span></code></pre></div></div>
<p>Similarly for positional structs</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">P</span><span class="token struct-or-enum-definition">(</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">)</span><br></span></code></pre></div></div>
<p>and</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">P</span><span class="token plain"> (local1, local2) = </span><span class="token struct-types entity" style="color:#C18401">P</span><span class="token plain"> ( </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> );</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// local1: u64</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// local2: u64</span><br></span></code></pre></div></div>
<p>Here is a more complicated example:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token module-header module-keyword keyword" style="color:hsl(301, 63%, 40%)">module</span><span class="token module-header"> </span><span class="token module-header package-name constant" style="color:hsl(35, 99%, 36%)">0</span><span class="token module-header double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token module-header module-name entity" style="color:#C18401">example</span><span class="token module-header">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">X</span><span class="token struct-or-enum-definition">(</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">Y</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"> </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">x2</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">(): </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">example</span><span class="token plain">() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain">(f), x2 } = </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">(), </span><span class="token property-name function-argument struct-property-name">x2</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">() };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(f + x2.f == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain">(f1), </span><span class="token property-name function-argument struct-property-name">x2</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain">(f2) } = </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">(), </span><span class="token property-name function-argument struct-property-name">x2</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">() };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(f1 + f2 == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Fields of structs can serve double duty, identifying the field to bind <em>and</em> the name of the
variable. This is sometimes referred to as punning.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { x1, x2 } = e;</span><br></span></code></pre></div></div>
<p>is equivalent to:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token property-value">x1</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">x2</span><span class="token plain">: </span><span class="token property-value">x2</span><span class="token plain"> } = e;</span><br></span></code></pre></div></div>
<p>As shown with tuples, you cannot declare more than one local with the same name in a single <span class="inline-code">let</span>.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token property-value">x</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">x2</span><span class="token plain">: </span><span class="token property-value">x</span><span class="token plain"> } = e; </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><br></span></code></pre></div></div>
<p>And as with tuples, the mutability of the local variables declared can be mixed.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x1, x2 } = e;</span><br></span></code></pre></div></div>
<p>Furthermore, the mutability of annotation can be applied to the punned fields. Giving the equivalent
example</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x1, x2 } = e;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="destructuring-against-references">Destructuring against references<a href="#destructuring-against-references" class="hash-link" aria-label="Direct link to Destructuring against references" title="Direct link to Destructuring against references">​</a></h3>
<p>In the examples above for structs, the bound value in the let was moved, destroying the struct value
and binding its fields.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">T</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"> </span><span class="token property-name function-argument struct-property-name">f1</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">f2</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> }</span><br></span></code></pre></div></div>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f1</span><span class="token plain">: </span><span class="token property-value">local1</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">f2</span><span class="token plain">: </span><span class="token property-value">local2</span><span class="token plain"> } = </span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f1</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">f2</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// local1: u64</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// local2: u64</span><br></span></code></pre></div></div>
<p>In this scenario the struct value <span class="inline-code">T { f1: 1, f2: 2 }</span> no longer exists after the <span class="inline-code">let</span>.</p>
<p>If you wish instead to not move and destroy the struct value, you can borrow each of its fields. For
example:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> t = </span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f1</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">f2</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f1</span><span class="token plain">: </span><span class="token property-value">local1</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">f2</span><span class="token plain">: </span><span class="token property-value">local2</span><span class="token plain"> } = &amp;t;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// local1: &amp;u64</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// local2: &amp;u64</span><br></span></code></pre></div></div>
<p>And similarly with mutable references:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> t = </span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f1</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">f2</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">T</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f1</span><span class="token plain">: </span><span class="token property-value">local1</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">f2</span><span class="token plain">: </span><span class="token property-value">local2</span><span class="token plain"> } = &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> t;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// local1: &amp;mut u64</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// local2: &amp;mut u64</span><br></span></code></pre></div></div>
<p>This behavior can also work with nested structs.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token module-header module-keyword keyword" style="color:hsl(301, 63%, 40%)">module</span><span class="token module-header"> </span><span class="token module-header package-name constant" style="color:hsl(35, 99%, 36%)">0</span><span class="token module-header double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token module-header module-name entity" style="color:#C18401">example</span><span class="token module-header">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">X</span><span class="token struct-or-enum-definition">(</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">Y</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"> </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">x2</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">(): </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain">(</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">example</span><span class="token plain">() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> y = </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">(), </span><span class="token property-name function-argument struct-property-name">x2</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">() };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain">(f), x2 } = &amp;y;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(*f + x2.f == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Y</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">x1</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain">(f1), </span><span class="token property-name function-argument struct-property-name">x2</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain">(f2) } = &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> y;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    *f1 = *f1 + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    *f2 = *f2 + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(*f1 + *f2 == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="ignoring-values">Ignoring Values<a href="#ignoring-values" class="hash-link" aria-label="Direct link to Ignoring Values" title="Direct link to Ignoring Values">​</a></h3>
<p>In <span class="inline-code">let</span> bindings, it is often helpful to ignore some values. Local variables that start with <span class="inline-code">_</span>
will be ignored and not introduce a new variable</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">three</span><span class="token plain">(): (</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (x1, _, z1) = </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">three</span><span class="token plain">();</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (x2, _y, z2) = </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">three</span><span class="token plain">();</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x1 + z1 == x2 + z2, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span></code></pre></div></div>
<p>This can be necessary at times as the compiler will warn on unused local variables</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (x1, y, z1) = </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">three</span><span class="token plain">(); </span><span class="token comment" style="color:#A0A1A7">// WARNING!</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//       ^ unused local &#x27;y&#x27;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="general-let-grammar">General <span class="inline-code">let</span> grammar<a href="#general-let-grammar" class="hash-link" aria-label="Direct link to general-let-grammar" title="Direct link to general-let-grammar">​</a></h3>
<p>All of the different structures in <span class="inline-code">let</span> can be combined! With that we arrive at this general
grammar for <span class="inline-code">let</span> statements:</p>
<blockquote>
<p><em>let-binding</em> → <strong>let</strong> <em>pattern-or-list</em> <em>type-annotation</em><sub><em>opt</em></sub> &gt;
<em>initializer</em><sub><em>opt</em></sub> &gt; <em>pattern-or-list</em> → <em>pattern</em> | <strong>(</strong> <em>pattern-list</em> <strong>)</strong> &gt;
<em>pattern-list</em> → <em>pattern</em> <strong>,</strong><sub><em>opt</em></sub> | <em>pattern</em> <strong>,</strong> <em>pattern-list</em> &gt;
<em>type-annotation</em> → <strong>:</strong> <em>type</em> <em>initializer</em> → <strong>=</strong> <em>expression</em></p>
</blockquote>
<p>The general term for the item that introduces the bindings is a <em>pattern</em>. The pattern serves to
both destructure data (possibly recursively) and introduce the bindings. The pattern grammar is as
follows:</p>
<blockquote>
<p><em>pattern</em> -&gt; <em>local-variable</em> | <em>struct-type</em> <strong>{</strong> <em>field-binding-list</em> <strong>}</strong> &gt;
<em>field-binding-list</em> → <em>field-binding</em> <strong>,</strong><sub><em>opt</em></sub> | <em>field-binding</em> <strong>,</strong> &gt;
<em>field-binding-list</em> &gt; <em>field-binding</em> → <em>field</em> | <em>field</em> <strong>:</strong> <em>pattern</em></p>
</blockquote>
<p>A few concrete examples with this grammar applied:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (x, y): (</span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">, </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain">) = (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//       ^                           local-variable</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//       ^                           pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//          ^                        local-variable</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//          ^                        pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//          ^                        pattern-list</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//       ^^^^                        pattern-list</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//      ^^^^^^                       pattern-or-list</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//            ^^^^^^^^^^^^           type-annotation</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//                         ^^^^^^^^  initializer</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ let-binding</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token struct-types entity" style="color:#C18401">Foo</span><span class="token plain"> { f, </span><span class="token property-name function-argument struct-property-name">g</span><span class="token plain">: </span><span class="token property-value">x</span><span class="token plain"> } = </span><span class="token struct-types entity" style="color:#C18401">Foo</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">g</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//      ^^^                                    struct-type</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//            ^                                field</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//            ^                                field-binding</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//               ^                             field</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//                  ^                          local-variable</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//                  ^                          pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//               ^^^^                          field-binding</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//            ^^^^^^^                          field-binding-list</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//      ^^^^^^^^^^^^^^^                        pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//      ^^^^^^^^^^^^^^^                        pattern-or-list</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//                      ^^^^^^^^^^^^^^^^^^^^   initializer</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ let-binding</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="mutations">Mutations<a href="#mutations" class="hash-link" aria-label="Direct link to Mutations" title="Direct link to Mutations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="assignments">Assignments<a href="#assignments" class="hash-link" aria-label="Direct link to Assignments" title="Direct link to Assignments">​</a></h3>
<p>After the local is introduced (either by <span class="inline-code">let</span> or as a function parameter), a <span class="inline-code">mut</span> local can be
modified via an assignment:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x = e</span><br></span></code></pre></div></div>
<p>Unlike <span class="inline-code">let</span> bindings, assignments are expressions. In some languages, assignments return the value
that was assigned, but in Move, the type of any assignment is always <span class="inline-code">()</span>.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">(x = </span><span class="token property-name function-argument struct-property-name">e</span><span class="token plain">: ())</span><br></span></code></pre></div></div>
<p>Practically, assignments being expressions means that they can be used without adding a new
expression block with braces (<span class="inline-code">{</span>...<span class="inline-code">}</span>).</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> (cond) x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">;</span><br></span></code></pre></div></div>
<p>The assignment uses the similar pattern syntax scheme as <span class="inline-code">let</span> bindings, but with absence of <span class="inline-code">mut</span>:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token module-header module-keyword keyword" style="color:hsl(301, 63%, 40%)">module</span><span class="token module-header"> </span><span class="token module-header package-name constant" style="color:hsl(35, 99%, 36%)">0</span><span class="token module-header double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token module-header module-name entity" style="color:#C18401">example</span><span class="token module-header">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">X</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"> </span><span class="token property-name function-argument struct-property-name">f</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">(): </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">// Note: this example will complain about unused variables and assignments.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">example</span><span class="token plain">() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> (</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x, </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> y, </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> f, </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> g) = (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    (</span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain"> { f }, </span><span class="token struct-types entity" style="color:#C18401">X</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f</span><span class="token plain">: </span><span class="token property-value">x</span><span class="token plain"> }) = (</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">(), </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_x</span><span class="token plain">());</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(f + x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    (x, y, f, _, g) = (</span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Note that a local variable can only have one type, so the type of the local cannot change between
assignments.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain">x = </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="mutating-through-a-reference">Mutating through a reference<a href="#mutating-through-a-reference" class="hash-link" aria-label="Direct link to Mutating through a reference" title="Direct link to Mutating through a reference">​</a></h3>
<p>In addition to directly modifying a local with assignment, a <span class="inline-code">mut</span> local can be modified via a
mutable reference <span class="inline-code">&amp;mut</span>.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> r = &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">*r = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span></code></pre></div></div>
<p>This is particularly useful if either:</p>
<p>(1) You want to modify different variables depending on some condition.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> y = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> r = </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> (cond) &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> y;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">*r = *r + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span></code></pre></div></div>
<p>(2) You want another function to modify your local value.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">modify_ref</span><span class="token plain">(&amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x);</span><br></span></code></pre></div></div>
<p>This sort of modification is how you modify structs and vectors!</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> v = </span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">[];</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">push_back</span><span class="token plain">(&amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> v, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(*</span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">borrow</span><span class="token plain">(&amp;v, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">) == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span></code></pre></div></div>
<p>For more details, see <a href="/reference/primitive-types/references">Move references</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="scopes">Scopes<a href="#scopes" class="hash-link" aria-label="Direct link to Scopes" title="Direct link to Scopes">​</a></h2>
<p>Any local declared with <span class="inline-code">let</span> is available for any subsequent expression, <em>within that scope</em>.
Scopes are declared with expression blocks, <span class="inline-code">{</span>...<span class="inline-code">}</span>.</p>
<p>Locals cannot be used outside of the declared scope.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> y = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">};</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain">x + y </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//  ^ unbound local &#x27;y&#x27;</span><br></span></code></pre></div></div>
<p>But, locals from an outer scope <em>can</em> be used in a nested scope.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> y = x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// valid</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Locals can be mutated in any scope where they are accessible. That mutation survives with the local,
regardless of the scope that performed the mutation.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x = x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    x = x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">};</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="expression-blocks">Expression Blocks<a href="#expression-blocks" class="hash-link" aria-label="Direct link to Expression Blocks" title="Direct link to Expression Blocks">​</a></h3>
<p>An expression block is a series of statements separated by semicolons (<span class="inline-code">;</span>). The resulting value of
an expression block is the value of the last expression in the block.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{ </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">; </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> y = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">; x + y }</span><br></span></code></pre></div></div>
<p>In this example, the result of the block is <span class="inline-code">x + y</span>.</p>
<p>A statement can be either a <span class="inline-code">let</span> declaration or an expression. Remember that assignments (<span class="inline-code">x = e</span>)
are expressions of type <span class="inline-code">()</span>.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{ </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x; </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> y = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">; x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">; x + y }</span><br></span></code></pre></div></div>
<p>Function calls are another common expression of type <span class="inline-code">()</span>. Function calls that modify data are
commonly used as statements.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{ </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> v = </span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">[]; </span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">push_back</span><span class="token plain">(&amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> v, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">); v }</span><br></span></code></pre></div></div>
<p>This is not just limited to <span class="inline-code">()</span> types---any expression can be used as a statement in a sequence!</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// value is discarded</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// value is discarded</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// value is discarded</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>But! If the expression contains a resource (a value without the <span class="inline-code">drop</span> <a href="/reference/abilities">ability</a>), you
will get an error. This is because Move&#x27;s type system guarantees that any value that is dropped has
the <span class="inline-code">drop</span> <a href="/reference/abilities">ability</a>. (Ownership must be transferred or the value must be explicitly
destroyed within its declaring module.)</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">Coin</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">value</span><span class="token plain">: </span><span class="token property-value">x</span><span class="token plain"> }; </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//  ^^^^^^^^^^^^^^^^^ unused value without the `drop` ability</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    x</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>If a final expression is not present in a block---that is, if there is a trailing semicolon <span class="inline-code">;</span>,
there is an implicit <a href="https://en.wikipedia.org/wiki/Unit_type" target="_blank" rel="noopener noreferrer">unit <span class="inline-code">()</span> value</a>. Similarly, if the
expression block is empty, there is an implicit unit <span class="inline-code">()</span> value.</p>
<p>Both are equivalent</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{ x = x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> / x; }</span><br></span></code></pre></div></div>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{ x = x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">; </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> / x; () }</span><br></span></code></pre></div></div>
<p>Similarly both are equivalent</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{ }</span><br></span></code></pre></div></div>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{ () }</span><br></span></code></pre></div></div>
<p>An expression block is itself an expression and can be used anyplace an expression is used. (Note:
The body of a function is also an expression block, but the function body cannot be replaced by
another expression.)</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token let-statement">my_vector</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">vector</span><span class="token plain">&lt;</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">vector</span><span class="token plain">&lt;</span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain">&gt;&gt; = {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> v = </span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">[];</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">push_back</span><span class="token plain">(&amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> v, </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">push_back</span><span class="token plain">(&amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> v, </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">goodbye</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    v</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">};</span><br></span></code></pre></div></div>
<p>(The type annotation is not needed in this example and only added for clarity.)</p>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="shadowing">Shadowing<a href="#shadowing" class="hash-link" aria-label="Direct link to Shadowing" title="Direct link to Shadowing">​</a></h3>
<p>If a <span class="inline-code">let</span> introduces a local variable with a name already in scope, that previous variable can no
longer be accessed for the rest of this scope. This is called <em>shadowing</em>.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// x is shadowed</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span></code></pre></div></div>
<p>When a local is shadowed, it does not need to retain the same type as before.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// x is shadowed</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span></code></pre></div></div>
<p>After a local is shadowed, the value stored in the local still exists, but will no longer be
accessible. This is important to keep in mind with values of types without the
<a href="/reference/abilities"><span class="inline-code">drop</span> ability</a>, as ownership of the value must be transferred by the end of the
function.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token module-header module-keyword keyword" style="color:hsl(301, 63%, 40%)">module</span><span class="token module-header"> </span><span class="token module-header package-name constant" style="color:hsl(35, 99%, 36%)">0</span><span class="token module-header double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token module-header module-name entity" style="color:#C18401">example</span><span class="token module-header">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">Coin</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-has keyword" style="color:hsl(301, 63%, 40%)">has</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">store</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"> </span><span class="token property-name function-argument struct-property-name">value</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">unused_coin</span><span class="token plain">(): </span><span class="token struct-types entity" style="color:#C18401">Coin</span><span class="token plain"> {</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token struct-types entity" style="color:#C18401">Coin</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">value</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> }; </span><span class="token comment" style="color:#A0A1A7">// ERROR!</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//      ^ This local still contains a value without the `drop` ability</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain">    x.value = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token struct-types entity" style="color:#C18401">Coin</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">value</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain"> };</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain">    x</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//  ^ Invalid return</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>When a local is shadowed inside a scope, the shadowing only remains for that scope. The shadowing is
gone once that scope ends.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">};</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span></code></pre></div></div>
<p>Remember, locals can change type when they are shadowed.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x = </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">};</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token macro-call macro-name support" style="color:#0184BC">assert</span><span class="token macro-call">!</span><span class="token plain">(x == </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">42</span><span class="token plain">);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="move-and-copy">Move and Copy<a href="#move-and-copy" class="hash-link" aria-label="Direct link to Move and Copy" title="Direct link to Move and Copy">​</a></h2>
<p>All local variables in Move can be used in two ways, either by <span class="inline-code">move</span> or <span class="inline-code">copy</span>. If one or the other
is not specified, the Move compiler is able to infer whether a <span class="inline-code">copy</span> or a <span class="inline-code">move</span> should be used.
This means that in all of the examples above, a <span class="inline-code">move</span> or a <span class="inline-code">copy</span> would be inserted by the
compiler. A local variable cannot be used without the use of <span class="inline-code">move</span> or <span class="inline-code">copy</span>.</p>
<p><span class="inline-code">copy</span> will likely feel the most familiar coming from other programming languages, as it creates a
new copy of the value inside of the variable to use in that expression. With <span class="inline-code">copy</span>, the local
variable can be used more than once.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> y = </span><span class="token abilities support" style="color:#0184BC">copy</span><span class="token plain"> x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> z = </span><span class="token abilities support" style="color:#0184BC">copy</span><span class="token plain"> x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">;</span><br></span></code></pre></div></div>
<p>Any value with the <span class="inline-code">copy</span> <a href="/reference/abilities">ability</a> can be copied in this way, and will be copied
implicitly unless a <span class="inline-code">move</span> is specified.</p>
<p><span class="inline-code">move</span> takes the value out of the local variable <em>without</em> copying the data. After a <span class="inline-code">move</span> occurs,
the local variable is unavailable, even if the value&#x27;s type has the <span class="inline-code">copy</span> <a href="/reference/abilities">ability</a>.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> y = move x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">;</span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//      ------ Local was moved here</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> z = move x + </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// Error!</span><span class="token plain"></span><br></span><span class="token-line error-comment" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">//      ^^^^^^ Invalid usage of local &#x27;x&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">y + z</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="safety">Safety<a href="#safety" class="hash-link" aria-label="Direct link to Safety" title="Direct link to Safety">​</a></h3>
<p>Move&#x27;s type system will prevent a value from being used after it is moved. This is the same safety
check described in <a href="#let-bindings"><span class="inline-code">let</span> declaration</a> that prevents local variables from being used
before it is assigned a value.</p>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="inference">Inference<a href="#inference" class="hash-link" aria-label="Direct link to Inference" title="Direct link to Inference">​</a></h3>
<p>As mentioned above, the Move compiler will infer a <span class="inline-code">copy</span> or <span class="inline-code">move</span> if one is not indicated. The
algorithm for doing so is quite simple:</p>
<ul>
<li>Any value with the <span class="inline-code">copy</span> <a href="/reference/abilities">ability</a> is given a <span class="inline-code">copy</span>.</li>
<li>Any reference (both mutable <span class="inline-code">&amp;mut</span> and immutable <span class="inline-code">&amp;</span>) is given a <span class="inline-code">copy</span>.<!-- -->
<ul>
<li>Except under special circumstances where it is made a <span class="inline-code">move</span> for predictable borrow checker
errors. This will happen once the reference is no longer used.</li>
</ul>
</li>
<li>Any other value is given a <span class="inline-code">move</span>.</li>
</ul>
<p>Given the structs</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">Foo</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-has keyword" style="color:hsl(301, 63%, 40%)">has</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">copy</span><span class="token struct-or-enum-definition">, </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">drop</span><span class="token struct-or-enum-definition">, </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">store</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"> </span><span class="token property-name function-argument struct-property-name">f</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">Coin</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-has keyword" style="color:hsl(301, 63%, 40%)">has</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">store</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"> </span><span class="token property-name function-argument struct-property-name">value</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u64</span><span class="token plain"> }</span><br></span></code></pre></div></div>
<p>we have the following example</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> s = </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> foo = </span><span class="token struct-types entity" style="color:#C18401">Foo</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">f</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> coin = </span><span class="token struct-types entity" style="color:#C18401">Coin</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">value</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> coins = </span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">[</span><span class="token struct-types entity" style="color:#C18401">Coin</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">value</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> }, </span><span class="token struct-types entity" style="color:#C18401">Coin</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">value</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> }];</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> s2 = s; </span><span class="token comment" style="color:#A0A1A7">// copy</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> foo2 = foo; </span><span class="token comment" style="color:#A0A1A7">// copy</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> coin2 = coin; </span><span class="token comment" style="color:#A0A1A7">// move</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> coins2 = coin; </span><span class="token comment" style="color:#A0A1A7">// move</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x = </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> b = </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> addr = </span><span class="token literals constant" style="color:hsl(35, 99%, 36%)">@0x42</span><span class="token plain">;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x_ref = &amp;x;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> coin_ref = &amp;</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> coin2;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x2 = x; </span><span class="token comment" style="color:#A0A1A7">// copy</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> b2 = b; </span><span class="token comment" style="color:#A0A1A7">// copy</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> addr2 = </span><span class="token literals constant" style="color:hsl(35, 99%, 36%)">@0x42</span><span class="token plain">; </span><span class="token comment" style="color:#A0A1A7">// copy</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> x_ref2 = x_ref; </span><span class="token comment" style="color:#A0A1A7">// copy</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> coin_ref2 = coin_ref; </span><span class="token comment" style="color:#A0A1A7">// copy</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/reference/primitive-types/tuples"><div class="pagination-nav__label"><i class="fa fa-angle-left"></i><span class="pagination-nav__label">2.6 Tuples and Unit</span> </div></a><a class="pagination-nav__link pagination-nav__link--next" href="/reference/equality"><div class="pagination-nav__label"><span class="pagination-nav__label">4. Equality</span> <i class="fa fa-angle-right"></i></div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_VdoB thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#declaring-local-variables" class="table-of-contents__link toc-highlight">Declaring Local Variables</a><ul><li><a href="#let-bindings" class="table-of-contents__link toc-highlight"><code>let</code> bindings</a></li><li><a href="#variables-must-be-assigned-before-use" class="table-of-contents__link toc-highlight">Variables must be assigned before use</a></li><li><a href="#valid-variable-names" class="table-of-contents__link toc-highlight">Valid variable names</a></li><li><a href="#type-annotations" class="table-of-contents__link toc-highlight">Type annotations</a></li><li><a href="#when-annotations-are-necessary" class="table-of-contents__link toc-highlight">When annotations are necessary</a></li><li><a href="#multiple-declarations-with-tuples" class="table-of-contents__link toc-highlight">Multiple declarations with tuples</a></li><li><a href="#multiple-declarations-with-structs" class="table-of-contents__link toc-highlight">Multiple declarations with structs</a></li><li><a href="#destructuring-against-references" class="table-of-contents__link toc-highlight">Destructuring against references</a></li><li><a href="#ignoring-values" class="table-of-contents__link toc-highlight">Ignoring Values</a></li><li><a href="#general-let-grammar" class="table-of-contents__link toc-highlight">General <code>let</code> grammar</a></li></ul></li><li><a href="#mutations" class="table-of-contents__link toc-highlight">Mutations</a><ul><li><a href="#assignments" class="table-of-contents__link toc-highlight">Assignments</a></li><li><a href="#mutating-through-a-reference" class="table-of-contents__link toc-highlight">Mutating through a reference</a></li></ul></li><li><a href="#scopes" class="table-of-contents__link toc-highlight">Scopes</a><ul><li><a href="#expression-blocks" class="table-of-contents__link toc-highlight">Expression Blocks</a></li><li><a href="#shadowing" class="table-of-contents__link toc-highlight">Shadowing</a></li></ul></li><li><a href="#move-and-copy" class="table-of-contents__link toc-highlight">Move and Copy</a><ul><li><a href="#safety" class="table-of-contents__link toc-highlight">Safety</a></li><li><a href="#inference" class="table-of-contents__link toc-highlight">Inference</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>