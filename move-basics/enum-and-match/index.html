<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-book docs-version-current docs-doc-page docs-doc-id-move-basics/enum-and-match" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Enums and Match | The Move Book</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://move-book.com/move-basics/enum-and-match"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="algolia-site-verification" content="BCA21DA2879818D2"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-book-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-book-current"><meta data-rh="true" property="og:title" content="Enums and Match | The Move Book"><meta data-rh="true" name="description" content="An enum is a user-defined data structure that, unlike a struct, can represent multiple"><meta data-rh="true" property="og:description" content="An enum is a user-defined data structure that, unlike a struct, can represent multiple"><link data-rh="true" rel="icon" href="/favicon.svg"><link data-rh="true" rel="canonical" href="https://move-book.com/move-basics/enum-and-match"><link data-rh="true" rel="alternate" href="https://move-book.com/move-basics/enum-and-match" hreflang="en"><link data-rh="true" rel="alternate" href="https://move-book.com/move-basics/enum-and-match" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1E7R0BHX4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B1E7R0BHX4",{anonymize_ip:!0})</script>



<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&amp;amp;display=swap">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/styles.f79f3242.css">
<script src="/assets/js/runtime~main.a7ece14f.js" defer="defer"></script>
<script src="/assets/js/main.9757aefb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_OH5z" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Move Book</a><a class="navbar__item navbar__link" href="/reference">Move Reference</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_aspp"><div class="navbar__search searchBarContainer_reza" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_Kpxf" value=""><div class="loadingRing_LRD_ searchBarLoadingRing_lY7z"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/MystenLabs/move-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><i class="fab fa-github"></i></a><div class="toggle_MW0i colorModeToggle_RHuM"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><i aria-hidden="true" class="toggleIcon_oIOL lightToggleIcon_SFTY fas fa-moon"></i><i aria-hidden="true" class="toggleIcon_oIOL darkToggleIcon_ekgs fas fa-sun"></i><i aria-hidden="true" class="toggleIcon_oIOL systemToggleIcon_yi_a fas fa-moon"></i></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_wWoK"><div class="docsWrapper_nrtX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_xs6u" type="button"></button><div class="docRoot_XRUv"><aside class="theme-doc-sidebar-container docSidebarContainer_vhZZ"><div class="sidebarViewport_HXJ_"><div class="sidebar_B2tA"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_RelJ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">The Move Book</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/foreword">Foreword</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/before-we-begin/">1. Before We Begin</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/before-we-begin/install-sui">1.1. Install Sui</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/before-we-begin/install-move-registry-cli">1.2. Install MVR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/before-we-begin/ide-support">1.3. IDE Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/before-we-begin/move-2024">1.4. Move 2024</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/your-first-move/hello-world">2. Hello World!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/your-first-move/hello-sui">3. Hello Sui!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/concepts/">4. Concepts</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/packages">4.1. Packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/manifest">4.2. Manifest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/address">4.3. Address</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/what-is-an-account">4.4. Account</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/what-is-a-transaction">4.5. Transaction</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/move-basics/">5. Move Basics</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/module">5.1. Modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/comments">5.2. Comments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/primitive-types">5.3. Primitive Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/address">5.4. Address Type</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/expression">5.5. Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/struct">5.6. Structs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/abilities-introduction">5.7. Abilities Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/drop-ability">5.8. Ability: Drop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/importing-modules">5.9. Importing Modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/standard-library">5.10. Standard Library</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/vector">5.11. Vector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/option">5.12. Option</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/string">5.13. String</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/control-flow">5.14. Control Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/move-basics/enum-and-match">5.15. Enums and Match</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/constants">5.16. Constants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/assert-and-abort">5.17. Aborting Execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/function">5.18. Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/struct-methods">5.19. Struct Methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/visibility">5.20. Visibility Modifiers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/ownership-and-scope">5.21. Ownership and Scope</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/copy-ability">5.22. Ability: Copy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/references">5.23. References</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/generics">5.24. Generics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/type-reflection">5.25. Type Reflection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/move-basics/testing">5.26. Testing</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/object/">6. Object Model</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/object/digital-assets">6.1. Language for Digital Assets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/object/evolution-of-move">6.2. Evolution of Move</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/object/object-model">6.3. What is an Object?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/object/ownership">6.4. Ownership</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/object/fast-path-and-consensus">6.5. Fast Path &amp; Consensus</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/storage/">7. Using Objects</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/storage/key-ability">7.1. Ability: Key</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/storage/storage-functions">7.2. Storage Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/storage/store-ability">7.3. Ability: Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/storage/uid-and-id">7.4. UID and ID</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/storage/transfer-restrictions">7.5. Transfer Restrictions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/programmability/">8. Advanced Programmability</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/transaction-context">8.1. Transaction Context</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/module-initializer">8.2. Module Initializer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/capability">8.3. Pattern: Capability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/epoch-and-time">8.4. Epoch and Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/collections">8.5. Collections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/wrapper-type-pattern">8.6. Pattern: Wrapper Type</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/dynamic-fields">8.7. Dynamic Fields</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/dynamic-object-fields">8.8. Dynamic Object Fields</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/dynamic-collections">8.9. Dynamic Collections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/witness-pattern">8.10. Pattern: Witness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/one-time-witness">8.11. One-Time Witness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/publisher">8.12. Publisher Authority</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/display">8.13. Object Display</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/events">8.14. Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/sui-framework">8.15. Sui Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/hot-potato-pattern">8.16. Pattern: Hot Potato</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/programmability/bcs">8.17. BCS</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Guides</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/2024-migration-guide">2024 Migration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/upgradeability-practices">Upgradability Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/building-against-limits">Building Against Limits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/better-error-handling">Better Error Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/code-quality-checklist">Code Quality Checklist</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Appendix</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/appendix/glossary">A. Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/appendix/reserved-addresses">B. Reserved Addresses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/appendix/publications">C. Publications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/appendix/contributing">D. Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/appendix/acknowledgements">E. Acknowledgements</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_oT2n"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_LCKf"><div class="docItemContainer_Jixr"><article><div class="tocCollapsible_vYTS theme-doc-toc-mobile tocMobile_QhsY"><button type="button" class="clean-btn tocCollapsibleButton_nB9w">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Enums and Match</h1></header>
<p>An enum is a user-defined data structure that, unlike a <a href="/move-basics/struct">struct</a>, can represent multiple
variants. Each variant can contain primitive types, structs, or other enums. However, recursive enum
definitions — similar to recursive struct definitions — are not allowed.</p>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="definition">Definition<a href="#definition" class="hash-link" aria-label="Direct link to Definition" title="Direct link to Definition">​</a></h2>
<p>An enum is defined using the <span class="inline-code">enum</span> keyword, followed by optional abilities and a block of variant
definitions. Each variant has a tag name and may optionally include either positional values or
named fields. Enum must have at least one variant. The structure of each variant is not flexible,
and the total number of variants can be relatively large - up to 100.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token module-header module-keyword keyword" style="color:hsl(301, 63%, 40%)">module</span><span class="token module-header"> </span><span class="token module-header package-name constant" style="color:hsl(35, 99%, 36%)">book</span><span class="token module-header double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token module-header module-name entity" style="color:#C18401">segment</span><span class="token module-header">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token use-import-fun use-keyword keyword" style="color:hsl(301, 63%, 40%)">use</span><span class="token use-import-fun"> std</span><span class="token use-import-fun double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token use-import-fun">string</span><span class="token use-import-fun double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token use-import-fun capitalized-name entity" style="color:#C18401">String</span><span class="token use-import-fun">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">/// `Segment` enum definition.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">/// Defines various string segments.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition enum-keyword keyword" style="color:hsl(301, 63%, 40%)">enum</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">Segment</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-has keyword" style="color:hsl(301, 63%, 40%)">has</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">copy</span><span class="token struct-or-enum-definition">, </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">drop</span><span class="token struct-or-enum-definition"> {</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">/// Empty variant, no value.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">Empty</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">/// Variant with a value (positional style).</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">(</span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">/// Variant with named fields.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">Special</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token property-name function-argument struct-property-name">content</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">vector</span><span class="token plain">&lt;</span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain">&gt;,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token property-name function-argument struct-property-name">encoding</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain">, </span><span class="token comment" style="color:#A0A1A7">// Encoding tag.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    },</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>In the code sample above we defined a public <span class="inline-code">Segment</span> enum, which has the <span class="inline-code">drop</span> and <span class="inline-code">copy</span>
abilities, and 3 variants:</p>
<ul>
<li><span class="inline-code">Empty</span>, which has no fields.</li>
<li><span class="inline-code">String</span>, which contains a single positional field of type <span class="inline-code">String</span>.</li>
<li><span class="inline-code">Special</span>, which uses named fields: <span class="inline-code">content</span> of type <span class="inline-code">vector&lt;u8&gt;</span> and <span class="inline-code">encoding</span> of type <span class="inline-code">u8</span>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="instantiating">Instantiating<a href="#instantiating" class="hash-link" aria-label="Direct link to Instantiating" title="Direct link to Instantiating">​</a></h2>
<p>Enums are <em>internal</em> to the module in which they are defined. This means an enum can only be
constructed, read, and unpacked within the same module.</p>
<p><a href="/move-basics/struct#create-and-use-an-instance">Similar to structs</a>, enums are instantiated by specifying the
type, the variant, and the values for any fields defined in that variant.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:#A0A1A7">/// Constructs an `Empty` segment.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">new_empty</span><span class="token plain">(): </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain"> { </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Empty</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">/// Constructs a `String` segment with the `str` value.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">new_string</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">str</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">): </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain"> { </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">(str) }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">/// Constructs a `Special` segment with the `content` and `encoding` values.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">new_special</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">content</span><span class="token plain">: </span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">vector</span><span class="token plain">&lt;</span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain">&gt;, </span><span class="token property-name function-argument struct-property-name">encoding</span><span class="token plain">: </span><span class="token built-in-types support" style="color:#0184BC">u8</span><span class="token plain">): </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Special</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        content,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        encoding,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Depending on the use case, you may want to provide public constructors, or instantiate enums
internally as a part of application logic.</p>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="using-in-type-definitions">Using in Type Definitions<a href="#using-in-type-definitions" class="hash-link" aria-label="Direct link to Using in Type Definitions" title="Direct link to Using in Type Definitions">​</a></h2>
<p>The biggest benefit of using enums is the ability to represent varying data structures under a
single type. To demonstrate this, let’s define a struct that contains a vector of <span class="inline-code">Segment</span> values:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:#A0A1A7">/// A struct to demonstrate enum capabilities.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token struct-or-enum-definition struct-keyword keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">Segments</span><span class="token struct-or-enum-definition">(</span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">vector</span><span class="token struct-or-enum-definition">&lt;</span><span class="token struct-or-enum-definition struct-name entity" style="color:#C18401">Segment</span><span class="token struct-or-enum-definition">&gt;) </span><span class="token struct-or-enum-definition struct-has keyword" style="color:hsl(301, 63%, 40%)">has</span><span class="token struct-or-enum-definition"> </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">copy</span><span class="token struct-or-enum-definition">, </span><span class="token struct-or-enum-definition abilities support" style="color:#0184BC">drop</span><span class="token struct-or-enum-definition">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute attr-name" style="color:hsl(35, 99%, 36%)">#[test]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">test_segments</span><span class="token plain">() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> _ = </span><span class="token struct-types entity" style="color:#C18401">Segments</span><span class="token plain">(</span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Empty</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">(</span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">()),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">(</span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"> move</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">()),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Special</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">content</span><span class="token plain">: </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">21</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">encoding</span><span class="token plain">: </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> },</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>All variants of the Segment enum share the same type – <span class="inline-code">Segment</span> – which allows us to create a
homogeneous vector containing instances of different variants. This kind of flexibility is not
achievable with structs, as each struct defines a single, fixed shape.</p>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="pattern-matching">Pattern Matching<a href="#pattern-matching" class="hash-link" aria-label="Direct link to Pattern Matching" title="Direct link to Pattern Matching">​</a></h2>
<p>Unlike structs, enums require special handling when it comes to accessing the inner value or
checking the variant. We simply cannot read the inner fields of an enum using the <span class="inline-code">.</span> (dot) syntax,
because we need to make sure that the value we are trying to access is the right one. For that Move
offers <em>pattern matching</em> syntax.</p>
<blockquote>
<p>This chapter doesn&#x27;t intend to cover all the features of pattern matching in Move. Refer to the
<a href="/reference/control-flow/pattern-matching">Pattern Matching</a> section in the Move Reference.</p>
</blockquote>
<p>Pattern matching allows conditioning the logic based on the <em>pattern</em> of the value. It is performed
using the <span class="inline-code">match</span> expression, followed by the matched value in parenthesis and the block of <em>match
arms</em>, defining the pattern and expression to be performed if the pattern is right.</p>
<p>Let&#x27;s extend our example by adding a set of <span class="inline-code">is_variant</span>-like functions, so external packages can
check the variant. Starting with <span class="inline-code">is_empty</span>.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:#A0A1A7">/// Whether this is an `Empty` segment.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">is_empty</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">s</span><span class="token plain">: &amp;</span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">// Match is an expression, hence we can use it for return value.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (s) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Empty</span><span class="token plain"> =&gt; </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">(_str) =&gt; </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Special</span><span class="token plain"> { </span><span class="token property-name function-argument struct-property-name">content</span><span class="token plain">: </span><span class="token property-value">_</span><span class="token plain">, </span><span class="token property-name function-argument struct-property-name">encoding</span><span class="token plain">: </span><span class="token property-value">_</span><span class="token plain"> } =&gt; </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>The <span class="inline-code">match</span> keyword begins the expression, and <span class="inline-code">s</span> is the value being tested. Each match arm checks
for a specific variant of the <span class="inline-code">Segment</span> enum. If <span class="inline-code">s</span> matches <span class="inline-code">Segment::Empty</span>, the function returns
<span class="inline-code">true</span>; otherwise, it returns <span class="inline-code">false</span>.</p>
<p>For variants with fields, we need to bind the inner structure to local variables (even if we don’t
use them, marking unused values with <span class="inline-code">_</span> to avoid compiler warnings).</p>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="trick-1---any-condition">Trick #1 - <em>any</em> Condition<a href="#trick-1---any-condition" class="hash-link" aria-label="Direct link to trick-1---any-condition" title="Direct link to trick-1---any-condition">​</a></h3>
<p>The Move compiler infers the type of the value used in a <span class="inline-code">match</span> expression and ensures that the
<em>match arms</em> are exhaustive – that is, all possible variants or values must be covered.</p>
<p>However, in some cases, such as matching on a primitive value or a collection like a vector, it&#x27;s
not feasible to list every possible case. For these situations, match supports a wildcard pattern
(<span class="inline-code">_</span>), which acts as a default arm. This arm is executed when no other patterns match.</p>
<p>We can demonstrate this by simplifying our <span class="inline-code">is_empty</span> function and replacing the non-<span class="inline-code">Empty</span>
variants with a wildcard:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">is_empty</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">s</span><span class="token plain">: &amp;</span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (s) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Empty</span><span class="token plain"> =&gt; </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">, </span><span class="token comment" style="color:#A0A1A7">// Anything else returns `false`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Similarly, we can use the same approach to define <span class="inline-code">is_special</span> and <span class="inline-code">is_string</span>:</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:#A0A1A7">/// Whether this is a `Special` segment.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">is_special</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">s</span><span class="token plain">: &amp;</span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (s) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// Hint: the `..` ignores inner fields</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Special</span><span class="token plain"> { .. } =&gt; </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:#A0A1A7">/// Whether this is a `String` segment.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">is_string</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">s</span><span class="token plain">: &amp;</span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">): </span><span class="token built-in-types support" style="color:#0184BC">bool</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (s) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">(_) =&gt; </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; </span><span class="token literals boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="trick-2---try_into-helpers">Trick #2 - <span class="inline-code">try_into</span> Helpers<a href="#trick-2---try_into-helpers" class="hash-link" aria-label="Direct link to trick-2---try_into-helpers" title="Direct link to trick-2---try_into-helpers">​</a></h3>
<p>With the addition of <span class="inline-code">is_variant</span> functions, we enabled external modules to check which variant an
enum instance represents. However, this is often not enough – external code still cannot access the
inner value of a variant due to enums being internal to their module.</p>
<p>A common pattern for addressing this is to define <span class="inline-code">try_into</span> functions. These functions match on the
value and return an <span class="inline-code">Option</span> containing the inner contents if the <span class="inline-code">match</span> succeeds.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:#A0A1A7">/// Returns `Some(String)` if the `Segment` is `String`, `None` otherwise.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">try_into_inner_string</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">s</span><span class="token plain">: </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">): </span><span class="token struct-types entity" style="color:#C18401">Option</span><span class="token plain">&lt;</span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">&gt; {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (s) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">(str) =&gt; option::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">some</span><span class="token plain">(str),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        _ =&gt; option::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">none</span><span class="token plain">(),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>This pattern safely exposes internal data in a controlled way, avoiding abort.</p>
<h3 class="anchor anchorWithStickyNavbar_kl3l" id="trick-3---matching-on-primitive-values">Trick #3 - Matching on Primitive Values<a href="#trick-3---matching-on-primitive-values" class="hash-link" aria-label="Direct link to Trick #3 - Matching on Primitive Values" title="Direct link to Trick #3 - Matching on Primitive Values">​</a></h3>
<p>The <span class="inline-code">match</span> expression in Move can be used with values of any type – enums, structs, or primitives.
To demonstrate this, let’s implement a <span class="inline-code">to_string</span> function that creates a new <span class="inline-code">String</span> from a
<span class="inline-code">Segment</span>. In the case of the <span class="inline-code">Special</span> variant, we will match on the <span class="inline-code">encoding</span> field to determine
how to decode the content.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:#A0A1A7">/// Return a `String` representation of a segment.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token visibility keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">s</span><span class="token plain">: &amp;</span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">): </span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (*s) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// Return an empty string.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Empty</span><span class="token plain"> =&gt; </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">(),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// Return the inner string.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">String</span><span class="token plain">(str) =&gt; str,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// Return the decoded contents based on the encoding.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token struct-types entity" style="color:#C18401">Segment</span><span class="token plain">::</span><span class="token struct-types entity" style="color:#C18401">Special</span><span class="token plain"> { content, encoding } =&gt; {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token comment" style="color:#A0A1A7">// Perform a match on the encoding, we only support 0 - ut8, 1 - hex.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">match</span><span class="token plain"> (encoding) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:#A0A1A7">// Plain encoding, return content.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> =&gt; content.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">(),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:#A0A1A7">// HEX encoding, decode and return.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> =&gt; sui::</span><span class="token property-value">hex</span><span class="token plain">::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">decode</span><span class="token plain">(content).</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">(),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:#A0A1A7">// We have to provide a wildcard pattern, because values of `u8` are 0-255.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                _ =&gt; </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">abort</span><span class="token plain">,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        },</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>This function demonstrates two key things:</p>
<ul>
<li>Nested <span class="inline-code">match</span> expressions can be used for deeper logic branching.</li>
<li>Wildcards are essential for covering all possible values in primitive types like <span class="inline-code">u8</span>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="the-final-test">The Final Test<a href="#the-final-test" class="hash-link" aria-label="Direct link to The Final Test" title="Direct link to The Final Test">​</a></h2>
<p>Now we can finalize the test we started before using the features we have added. Let&#x27;s create a
scenario where we build enums into a vector.</p>
<div class="language-move codeBlockContainer_AE_o theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_YOHW"><pre tabindex="0" class="prism-code language-move codeBlock_q9R9 thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_bu_M"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:#A0A1A7">// Note, that the module has changed!</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token module-header module-keyword keyword" style="color:hsl(301, 63%, 40%)">module</span><span class="token module-header"> </span><span class="token module-header package-name constant" style="color:hsl(35, 99%, 36%)">book</span><span class="token module-header double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token module-header module-name entity" style="color:#C18401">segment_tests</span><span class="token module-header">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token use-import-fun use-keyword keyword" style="color:hsl(301, 63%, 40%)">use</span><span class="token use-import-fun"> book</span><span class="token use-import-fun double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token use-import-fun">segment;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token use-import-fun use-keyword keyword" style="color:hsl(301, 63%, 40%)">use</span><span class="token use-import-fun"> std</span><span class="token use-import-fun double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token use-import-fun">unit_test</span><span class="token use-import-fun double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token use-import-fun">assert_eq;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute attr-name" style="color:hsl(35, 99%, 36%)">#[test]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function-keyword keyword" style="color:hsl(301, 63%, 40%)">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:hsl(221, 87%, 60%)">test_full_enum_cycle</span><span class="token plain">() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">// Create a vector of different Segment variants.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> segments = </span><span class="token built-in-types support" style="color:#0184BC">vector</span><span class="token plain">[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        segment::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_empty</span><span class="token plain">(),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        segment::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_string</span><span class="token plain">(</span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">()),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        segment::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_special</span><span class="token plain">(</span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"> </span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">), </span><span class="token comment" style="color:#A0A1A7">// plaintext</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        segment::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_string</span><span class="token plain">(</span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">move</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">()),</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        segment::</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">new_special</span><span class="token plain">(</span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">21</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">, </span><span class="token literals number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">), </span><span class="token comment" style="color:#A0A1A7">// hex</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">// Aggregate all segments into the final string using `vector::fold!` macro.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token let-keyword keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> result = segments.</span><span class="token macro-call macro-name support" style="color:#0184BC">fold</span><span class="token macro-call">!</span><span class="token plain">(</span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">(), |</span><span class="token mut-keyword keyword" style="color:hsl(301, 63%, 40%)">mut</span><span class="token plain"> acc, segment| {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:#A0A1A7">// Do not append empty, only `Special` and `String`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token control-flow keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> (!segment.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">is_empty</span><span class="token plain">()) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            acc.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">append</span><span class="token plain">(segment.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">());</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        };</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        acc</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    });</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:#A0A1A7">// Check that the result is what&#x27;s expected.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token macro-call macro-name support" style="color:#0184BC">assert_eq</span><span class="token macro-call">!</span><span class="token plain">(result, </span><span class="token string-literal string-literal-prefix">b&quot;</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)">hello move!</span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal string-literal-content string" style="color:hsl(119, 34%, 47%)"></span><span class="token string-literal">&quot;</span><span class="token plain">.</span><span class="token function-call function" style="color:hsl(221, 87%, 60%)">to_string</span><span class="token plain">());</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>This test demonstrates the full enum workflow: instantiating different variants, using public
accessors, and performing logic with pattern matching. That should be enough to get you started!</p>
<p>To learn more about enums and pattern matching, refer to the resources listed in the
<a href="#further-reading">further reading</a> section.</p>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<ul>
<li>Enums are user-defined types that can represent multiple variants under a single type.</li>
<li>Each variant can contain different types of data (primitives, structs, or other enums).</li>
<li>Enums are internal to their defining module and require pattern matching for access.</li>
<li>Pattern matching is done using the <span class="inline-code">match</span> expression, which:<!-- -->
<ul>
<li>Works with enums, structs, and primitive values;</li>
<li>Must handle all possible cases (be exhaustive);</li>
<li>Supports the <span class="inline-code">_</span> wildcard pattern for remaining cases;</li>
<li>Can return values and be used in expressions;</li>
</ul>
</li>
<li>Common patterns for enums include <span class="inline-code">is_variant</span> checks and <span class="inline-code">try_into</span> helper functions.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_kl3l" id="further-reading">Further Reading<a href="#further-reading" class="hash-link" aria-label="Direct link to Further Reading" title="Direct link to Further Reading">​</a></h2>
<ul>
<li><a href="/reference/enums">Enums</a> in the Move Reference</li>
<li><a href="/reference/control-flow/pattern-matching">Pattern Matching</a> in the Move Reference</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/move-basics/control-flow"><div class="pagination-nav__label"><i class="fa fa-angle-left"></i><span class="pagination-nav__label">5.14. Control Flow</span> </div></a><a class="pagination-nav__link pagination-nav__link--next" href="/move-basics/constants"><div class="pagination-nav__label"><span class="pagination-nav__label">5.16. Constants</span> <i class="fa fa-angle-right"></i></div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_VdoB thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#definition" class="table-of-contents__link toc-highlight">Definition</a></li><li><a href="#instantiating" class="table-of-contents__link toc-highlight">Instantiating</a></li><li><a href="#using-in-type-definitions" class="table-of-contents__link toc-highlight">Using in Type Definitions</a></li><li><a href="#pattern-matching" class="table-of-contents__link toc-highlight">Pattern Matching</a><ul><li><a href="#trick-1---any-condition" class="table-of-contents__link toc-highlight">Trick #1 - <em>any</em> Condition</a></li><li><a href="#trick-2---try_into-helpers" class="table-of-contents__link toc-highlight">Trick #2 - <code>try_into</code> Helpers</a></li><li><a href="#trick-3---matching-on-primitive-values" class="table-of-contents__link toc-highlight">Trick #3 - Matching on Primitive Values</a></li></ul></li><li><a href="#the-final-test" class="table-of-contents__link toc-highlight">The Final Test</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further Reading</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>