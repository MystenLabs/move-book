"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6174],{4114:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"storage/store-ability","title":"Ability: Store","description":"The key ability requires all fields to have store, which defines what the store","source":"@site/../book/storage/store-ability.md","sourceDirName":"storage","slug":"/storage/store-ability","permalink":"/storage/store-ability","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"bookSidebar","previous":{"title":"7.2. Ability: Key","permalink":"/storage/key-ability"},"next":{"title":"7.4. Storage Functions","permalink":"/storage/storage-functions"}}');var s=t(3420),r=t(5521);const o={},l="Ability: Store",a={},c=[{value:"Definition",id:"definition",level:2},{value:"Relation to <code>copy</code> and <code>drop</code>",id:"relation-to-copy-and-drop",level:2},{value:"Relation to <code>key</code>",id:"relation-to-key",level:2},{value:"Types with the <code>store</code> Ability",id:"types-with-the-store-ability",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(e){const i={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"ability-store",children:"Ability: Store"})}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsxs)(i.a,{href:"/storage/key-ability",children:[(0,s.jsx)(i.code,{children:"key"})," ability"]})," requires all fields to have ",(0,s.jsx)(i.code,{children:"store"}),", which defines what the ",(0,s.jsx)(i.code,{children:"store"}),"\nability means: it is the ability to serve as a field of an Object. A struct with\n",(0,s.jsx)(i.a,{href:"/move-basics/copy-ability",children:(0,s.jsx)(i.code,{children:"copy"})})," or ",(0,s.jsx)(i.a,{href:"/move-basics/drop-ability",children:(0,s.jsx)(i.code,{children:"drop"})})," but without ",(0,s.jsx)(i.code,{children:"store"})," can never be ",(0,s.jsx)(i.em,{children:"stored"}),". A type\nwith ",(0,s.jsx)(i.code,{children:"key"})," but without ",(0,s.jsx)(i.code,{children:"store"})," cannot be wrapped - used as a field\u2014in another object, and is\nconstrained to always remain at the top level."]}),"\n",(0,s.jsx)(i.h2,{id:"definition",children:"Definition"}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.code,{children:"store"})," ability allows a type to be used as a field in a struct with the ",(0,s.jsx)(i.code,{children:"key"})," ability."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-move",children:"// hidden-block-start\nuse std::string::String;\n\n// hidden-block-end\n/// Extra metadata with `store`; all fields must have `store` as well!\npublic struct Metadata has store {\n    bio: String,\n}\n\n/// An object for a single user record.\npublic struct User has key {\n    id: UID,\n    name: String,       // String has `store`\n    age: u8,            // All integers have `store`\n    metadata: Metadata, // Another type with the `store` ability\n}\n"})}),"\n",(0,s.jsxs)(i.h2,{id:"relation-to-copy-and-drop",children:["Relation to ",(0,s.jsx)(i.code,{children:"copy"})," and ",(0,s.jsx)(i.code,{children:"drop"})]}),"\n",(0,s.jsxs)(i.p,{children:["All three non-",(0,s.jsx)(i.code,{children:"key"})," abilities can be used in any combination."]}),"\n",(0,s.jsxs)(i.h2,{id:"relation-to-key",children:["Relation to ",(0,s.jsx)(i.code,{children:"key"})]}),"\n",(0,s.jsxs)(i.p,{children:["An object with the ",(0,s.jsx)(i.code,{children:"store"})," ability can be ",(0,s.jsx)(i.em,{children:"stored"})," in other objects."]}),"\n",(0,s.jsxs)(i.blockquote,{children:["\n",(0,s.jsxs)(i.p,{children:["While not a language or verifier feature, ",(0,s.jsx)(i.code,{children:"store"})," acts as a ",(0,s.jsx)(i.em,{children:"public"})," modifier on a struct,\nallowing calling ",(0,s.jsx)(i.em,{children:"public"})," ",(0,s.jsx)(i.a,{href:"/storage/storage-functions",children:"transfer functions"})," which do not have an\n",(0,s.jsx)(i.a,{href:"/storage/internal-constraint",children:"internal constraint"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(i.h2,{id:"types-with-the-store-ability",children:["Types with the ",(0,s.jsx)(i.code,{children:"store"})," Ability"]}),"\n",(0,s.jsxs)(i.p,{children:["All native types (except references) in Move have the ",(0,s.jsx)(i.code,{children:"store"})," ability. This includes:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/move-basics/primitive-types#booleans",children:"bool"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/move-basics/primitive-types#integer-types",children:"unsigned integers"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/move-basics/vector",children:"vector"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/move-basics/address",children:"address"})}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["All of the types defined in the standard library have the ",(0,s.jsx)(i.code,{children:"store"})," ability as well. This includes:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/move-basics/option",children:"Option"})}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.a,{href:"/move-basics/string",children:"String"})," and ",(0,s.jsx)(i.a,{href:"/move-basics/string",children:"ASCII String"})]}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/move-basics/type-reflection",children:"TypeName"})}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.a,{href:"./../../reference/abilities",children:"Type Abilities"})," in the Move Reference."]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},5521:(e,i,t)=>{t.d(i,{R:()=>o,x:()=>l});var n=t(6672);const s={},r=n.createContext(s);function o(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);